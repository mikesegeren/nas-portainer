version: "3.9"

services:
  obsidian-db:
    # CouchDB backend for Obsidian LiveSync plugin (self-hosted sync)
    image: couchdb:3
    container_name: obsidian-db
    restart: unless-stopped
    environment:
      - COUCHDB_USER=${OBSIDIAN_DB_USER}
      - COUCHDB_PASSWORD=${OBSIDIAN_DB_PASSWORD}
    volumes:
      - ${DOCKER_DATA}/obsidian/couchdb:/opt/couchdb/data
    ports:
      - 5984:5984
